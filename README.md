# âœï¸ Act Feed Clean Go

[![Language](https://img.shields.io/badge/Language-Go-blue)](https://golang.org/)
[![Go Version](https://img.shields.io/github/go-mod/go-version/shouni/act-feed-clean-go)](https://golang.org/)
[![GitHub tag (latest by date)](https://img.shields.io/github/v/tag/shouni/act-feed-clean-go)](https://github.com/shouni/act-feed-clean-go/tags)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)


## ğŸ’¡ æ¦‚è¦ (About) â€” **å …ç‰¢ãªä¸¦åˆ—ã‚¦ã‚§ãƒ–æŠ½å‡ºã¨AIå‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**

**Act Feed Clean Go** ã¯ã€RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‹ã‚‰è¨˜äº‹URLã‚’æŠ½å‡ºã—ã€**ä¸¦åˆ—å‡¦ç†**ã§æœ¬æ–‡ã‚’é«˜é€Ÿã«å–å¾—ã€ãƒã‚¤ã‚ºé™¤å»ã‚’è¡Œã„ã€æœ€çµ‚çš„ã«AIã«ã‚ˆã‚‹**æ§‹é€ åŒ–ãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆç¾åœ¨ã‚¹ã‚­ãƒƒãƒ—ä¸­ï¼‰**ã‚’è¡Œã†é«˜ç”Ÿç”£æ€§ CLI ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

### ğŸŒ¸ å°å…¥ãŒã‚‚ãŸã‚‰ã™ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå¤‰åŒ–

| ãƒ¡ãƒªãƒƒãƒˆ | ãƒãƒ¼ãƒ ã¸ã®å½±éŸ¿ | æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ |
| :--- | :--- | :--- |
| **å …ç‰¢ãªä¸¦åˆ—ã‚¦ã‚§ãƒ–æŠ½å‡º** | **ã€Œä¸å®‰å®šãªWebã‚µã‚¤ãƒˆã‹ã‚‰ã®å–å¾—å¤±æ•—ã€ã¨ã„ã†èª²é¡Œã‚’è§£æ¶ˆã—ã¾ã™ã€‚** ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ã«ã‚ˆã‚Šå–å¾—æˆåŠŸç‡ã‚’æœ€å¤§åŒ–ã—ã¾ã™ã€‚ | **ãƒ‡ãƒ¼ã‚¿åé›†ã®ä¿¡é ¼æ€§ãŒå‘ä¸Š**ã—ã€å¾Œç¶šã®AIå‡¦ç†ã‚„ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ•ã‚§ãƒ¼ã‚ºã§ã€æ­£ç¢ºãªã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚’å¸¸ã«ä¿è¨¼ã§ãã¾ã™ã€‚ |
| **å°†æ¥çš„ãªAIçµ±åˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³** | **ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†ã®æ‰‹é–“ãŒã‚¼ãƒ­ã«ãªã‚Šã¾ã™ã€‚** è¨˜äº‹æœ¬æ–‡ã®æŠ½å‡ºã‹ã‚‰AIå‡¦ç†ã¾ã§ã‚’ä¸€ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã§å®Œçµã•ã›ã‚‹**çµ±åˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**ã‚’ç¢ºç«‹ã—ã¾ã™ã€‚ | **æƒ…å ±æ•´ç†ã®å…¨å·¥ç¨‹ãŒè‡ªå‹•åŒ–**ã•ã‚Œã€é–‹ç™ºè€…ã¯å–å¾—ã—ãŸè¨˜äº‹ã®ã‚¯ãƒªãƒ¼ãƒ³ãªæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¸ã™ãã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚ |

-----

## âœ¨ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ (Technology Stack)

| è¦ç´  | æŠ€è¡“ / ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | å½¹å‰² |
| :--- | :--- | :--- |
| **è¨€èª** | **Go (Golang)** | ãƒ„ãƒ¼ãƒ«ã®é–‹ç™ºè¨€èªã€‚ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã®é«˜é€Ÿãªå®Ÿè¡Œã‚’å®Ÿç¾ã—ã¾ã™ã€‚ |
| **ä¸¦è¡Œå‡¦ç†** | **Goroutines (`golang.org/x/sync/semaphore`)** | è¤‡æ•°ã®è¨˜äº‹URLã«å¯¾ã™ã‚‹ã‚¦ã‚§ãƒ–æŠ½å‡ºãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’**ã‚»ãƒãƒ•ã‚©åˆ¶å¾¡**ã®ä¸‹ã§ä¸¦åˆ—å®Ÿè¡Œã—ã€å‡¦ç†æ™‚é–“ã‚’çŸ­ç¸®ã—ã¾ã™ã€‚ |
| **HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ** | **`shouni/go-http-kit`** | **è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤**ã¨**ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶å¾¡**ã‚’æŒã¤é«˜ä¿¡é ¼æ€§ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚ |
| **ã‚¦ã‚§ãƒ–æŠ½å‡º** | **`shouni/go-web-exact/v2`** | è¨˜äº‹æœ¬æ–‡ã®ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªç‰¹å®šã¨ãƒã‚¤ã‚ºé™¤å»ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ |
| **CLIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯** | **`spf13/cobra`** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã§å¼·åŠ›ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚ |

-----

## ğŸ› ï¸ ç‹¬è‡ªã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚ˆã‚‹å …ç‰¢åŒ–

æœ¬ãƒ„ãƒ¼ãƒ«ã¯ã€Webã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å–å¾—ã‚’å«ã‚€ã™ã¹ã¦ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é€šä¿¡ã®å …ç‰¢æ€§ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã€é–‹ç™ºè€…ãŒç‹¬è‡ªã«è¨­è¨ˆãƒ»å®Ÿè£…ã—ãŸ**é«˜ä¿¡é ¼æ€§HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª** [`shouni/go-http-kit`](https://github.com/shouni/go-http-kit) ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

### 1\. Webã‚³ãƒ³ãƒ†ãƒ³ãƒ„æŠ½å‡ºã¨é€šä¿¡ã®åˆ†é›¢

* Webã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æŠ½å‡ºï¼ˆ`go-web-exact`ï¼‰ã¨å®Ÿéš›ã®HTTPé€šä¿¡å‡¦ç†ã‚’å®Œå…¨ã«åˆ†é›¢ã—ã€**DIï¼ˆä¾å­˜æ€§æ³¨å…¥ï¼‰**ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®ä¿å®ˆæ€§ã¨ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã‚’é«˜ã‚ã¦ã„ã¾ã™ã€‚

### 2\. å …ç‰¢ãªè‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶å¾¡

* **å°‚ç”¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚ˆã‚‹å…¨é€šä¿¡ã®å …ç‰¢åŒ–**: ã™ã¹ã¦ã®Webå–å¾—ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã€å…±é€šã®**DIå¯¾å¿œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**ã«ã‚ˆã£ã¦å‡¦ç†ã•ã‚Œã¾ã™ã€‚
* **æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ãƒªãƒˆãƒ©ã‚¤**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã‚„ã‚µãƒ¼ãƒãƒ¼ã®ä¸€æ™‚çš„ãªè² è·å¢—å¤§ï¼ˆ5xxç³»ã‚¨ãƒ©ãƒ¼ãªã©ï¼‰ãŒç™ºç”Ÿã—ãŸå ´åˆã€**æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•æˆ¦ç•¥**ã«åŸºã¥ã„ã¦è‡ªå‹•çš„ã«ãƒªãƒˆãƒ©ã‚¤ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
* **ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©å¯èƒ½ãªã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ**: `--scraper-timeout` ãƒ•ãƒ©ã‚°ã«ã‚ˆã‚Šã€**ã™ã¹ã¦ã®**Webãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å€‹åˆ¥ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŸ”è»Ÿã«è¨­å®šå¯èƒ½ã§ã™ã€‚

### 3\. é«˜åº¦ãªWebã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹å®šãƒ­ã‚¸ãƒƒã‚¯ ([`shouni/go-web-exact`](https://github.com/shouni/go-web-exact) å†…éƒ¨)

* **ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªæœ¬æ–‡ç‰¹å®š**: ä¸»è¦ãªCMSã‚„ãƒ–ãƒ­ã‚°æ§‹é€ ã«å¯¾å¿œã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®ã‚»ãƒ¬ã‚¯ã‚¿ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ­ã‚¸ãƒƒã‚¯ã§æœ¬æ–‡ã‚¨ãƒªã‚¢ã‚’ç‰¹å®šã—ã¾ã™ã€‚
* **ãƒã‚¤ã‚ºè¦ç´ ã®è‡ªå‹•é™¤å»**: åºƒå‘Šã€ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã€ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ãªã©ã€è¨˜äº‹æœ¬æ–‡ã¨ç„¡é–¢ä¿‚ãªè¦ç´ ã‚’è‡ªå‹•ã§é™¤å»ã—ã¾ã™ã€‚

-----

## âœ¨ ä¸»ãªæ©Ÿèƒ½

1.  **å …ç‰¢ãªæŠ½å‡º**: **è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤**ã€**ã‚»ãƒãƒ•ã‚©åˆ¶å¾¡**ã€ãŠã‚ˆã³**ä¸æ­£ãƒ‡ãƒ¼ã‚¿æ¤œå‡º**ã«ã‚ˆã‚Šã€ä¸¦åˆ—å‡¦ç†ç’°å¢ƒã§ã®è¨˜äº‹æœ¬æ–‡å–å¾—ã®å®‰å®šæ€§ã‚’å®Ÿç¾ã—ã¾ã™ã€‚
2.  **RSSãƒ•ã‚£ãƒ¼ãƒ‰å¯¾å¿œ**: RSSãƒ•ã‚£ãƒ¼ãƒ‰ã®URLã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã€è‡ªå‹•çš„ã«ãã“ã«å«ã¾ã‚Œã‚‹è¨˜äº‹URLã‚’æŠ½å‡ºã—ã€ä¸¦åˆ—å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™ã€‚

-----

## ğŸ“¦ ä½¿ã„æ–¹

### 1\. ç’°å¢ƒè¨­å®š

AIå‡¦ç†ã‚’å†é–‹ã™ã‚‹éš›ã«ã¯ `GEMINI_API_KEY` ãŒå¿…é ˆã¨ãªã‚Šã¾ã™ãŒã€ç¾çŠ¶ã¯ä¸è¦ã§ã™ã€‚

| å¤‰æ•°å | å¿…é ˆ/ä»»æ„ | èª¬æ˜ |
| :--- | :--- | :--- |
| `GEMINI_API_KEY` | ä»»æ„ (AIå‡¦ç†å†é–‹æ™‚å¿…é ˆ) | Google AI Studio ã§å–å¾—ã—ãŸ Gemini API ã‚­ãƒ¼ã€‚ |

### 2\. å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

ãƒ¡ã‚¤ãƒ³ã‚³ãƒãƒ³ãƒ‰ã¯ **`run`** ã§ã™ã€‚

```bash
./bin/actfeedclean run [flags]
````

#### ãƒ•ãƒ©ã‚°ä¸€è¦§

| ãƒ•ãƒ©ã‚° | çŸ­ç¸®å½¢ | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ |
| :--- |:----| :--- | :--- |
| `--feed-url` | `-f` | **å‡¦ç†å¯¾è±¡ã®RSSãƒ•ã‚£ãƒ¼ãƒ‰URL**ã€‚ | `https://news.yahoo.co.jp/rss/categories/it.xml` |
| `--parallel` | `-p` | Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã®**æœ€å¤§åŒæ™‚ä¸¦åˆ—ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°**ã€‚ | `10` |
| `--scraper-timeout` | `-s` | Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã®**HTTPã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“**ã€‚ | `15s` |
| `--llm-api-key` | `-k` | Gemini APIã‚­ãƒ¼ã€‚AIå‡¦ç†ã‚¹ã‚­ãƒƒãƒ—ä¸­ã¯ä½¿ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚ | |

-----

## ğŸ”Š å®Ÿè¡Œä¾‹

### ä¾‹ 1: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‚’ä¸¦åˆ—æŠ½å‡ºã—ã€çµæœã‚’æ¨™æº–å‡ºåŠ›ã«å‡ºåŠ›

```bash
# Yahoo! ITãƒ•ã‚£ãƒ¼ãƒ‰ã‹ã‚‰è¨˜äº‹ã‚’æœ€å¤§10ä¸¦åˆ—ã§æŠ½å‡º
./bin/actfeedclean run 
```

### ä¾‹ 2: åˆ¥ã®ãƒ•ã‚£ãƒ¼ãƒ‰URLã‚’æŒ‡å®šã—ã€ä¸¦åˆ—æ•°ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å¤‰æ›´ã—ã¦å®Ÿè¡Œ

```bash
# 20ä¸¦åˆ—ã§å®Ÿè¡Œã—ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’30ç§’ã«å»¶é•·ã€‚çµæœã¯ output.txt ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
./bin/actfeedclean run \
    --feed-url "[https://example.com/rss/tech.xml](https://example.com/rss/tech.xml)" \
    --parallel 20 \
    --scraper-timeout 30s > output.txt
```

-----

### ğŸ“œ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ (License)

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [MIT License](https://opensource.org/licenses/MIT) ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚
